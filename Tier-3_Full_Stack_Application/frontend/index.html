<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>People List</title>
</head>
<body>
    <h1>People from the Database</h1>
    <ul id="peopleList"></ul>

    <script>
        // Wait for the entire HTML document to be loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Fetch data from the backend's /people endpoint
            fetch('http://localhost:5000/people')
                .then(response => response.json()) // Parse the JSON response
                .then(data => {
                    const peopleList = document.getElementById('peopleList');
                    if (data.length === 0) {
                        peopleList.innerHTML = '<li>No people found.</li>';
                    } else {
                        // Loop through the array of people and create a list item for each
                        data.forEach(person => {
                            const li = document.createElement('li');
                            li.textContent = `Name: ${person.name}, Age: ${person.age}`;
                            peopleList.appendChild(li);
                        });
                    }
                })
                .catch(error => {
                    console.error('Error fetching data:', error);
                    peopleList.innerHTML = '<li>Error loading data. Check the backend server.</li>';
                });
        });
    </script>
</body>
</html>
